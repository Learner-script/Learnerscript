{"version":3,"file":"smartfilter.min.js","sources":["../src/smartfilter.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * TODO describe module smartfilter\n *\n * @module     block_learnerscript/smartfilter\n * @copyright  2023 YOUR NAME <your@email.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery',\n        'block_learnerscript/ajax',\n        'block_learnerscript/reportwidget',\n        'block_learnerscript/report',\n        'block_learnerscript/flatpickr',\n        'core/str',\n        'block_learnerscript/serialize'],\n    function($, ajax, reportwidget, report, flatpickr, str) {\n        var BasicparamUser = $('.basicparamsform #id_filter_users');\n        var BasicparamActivity = $('.basicparamsform #id_filter_activities');\n\n        var FilterUser = $('.filterform #id_filter_users');\n        var FilterActivity = $('.filterform #id_filter_activities');\n\n        var selectduration = $('.durationfilter');\n        var reportcontenttype = $('.reportcontenttype');\n\n        var smartfilter = {\n            SelectDuration: function() {\n                var self=this;\n                selectduration.on('click', function(e){\n                    e.stopImmediatePropagation();\n                    var instanceid = $(this).data('blockinstance');\n                    var reportid = $(this).data('reportid');\n                    var reporttype = $(this).data('reporttype');\n                    var duration = $(this).data('duration');\n                    self.DurationFilter(duration,'true',reportid,instanceid, reporttype);\n                   if($('#reportcontainer'+instanceid).html().length > 0 ){\n                        $('#plotreportcontainer'+instanceid).data('reporttype',reporttype);\n                    }else{\n                        $('#reportcontainer'+instanceid).data('reporttype',reporttype);\n                    }\n                    $('#datefilter'+instanceid).trigger('click');\n\n                });\n            },\n            ReportContenttypes: function() {\n                reportcontenttype.on('click', function(e){\n                    e.stopImmediatePropagation();\n                    $('.navbar-collapse').collapse('hide');\n                    var instanceid = $(this).data('blockinstance');\n                    var reportid = $(this).data('reportid');\n                    var reporttype = $(this).data('reporttype');\n                    require(['block_learnerscript/reportwidget'], function(reportwidget) {\n                    reportwidget.CreateDashboardwidget({reporttype: reporttype, container:'#reporttype_'+instanceid,\n                                                    reportid:reportid, instanceid:instanceid,reportdashboard:1,\n                                                    selectreport: true});\n                });\n                    if($('#reportcontainer'+instanceid).html().length > 0 ){\n                        $('#plotreportcontainer'+instanceid).data('reporttype',reporttype);\n                    }else{\n                        $('#reportcontainer'+instanceid).data('reporttype',reporttype);\n                    }\n                    $('#reportcontenttypes'+instanceid).trigger('click');\n                });\n            },\n            DurationFilter: function(value, reportdashboard, report1id=null, instanceid=null, reportcontenttype=null) {\n                var today = new Date();\n                var start_duration = '';\n                if (reportdashboard == false) {\n                    instanceid = '';\n                }\n                if (value !== 'clear') {\n                    $('#ls_fenddate'+instanceid).val(today.getTime() / 1000);\n                    switch (value) {\n                        case 'week':\n                            start_duration = new Date(today.getFullYear(), today.getMonth(), today.getDate() - 7);\n                            break;\n                        case 'month':\n                            start_duration = new Date(today.getFullYear(), today.getMonth() - 1, today.getDate());\n                            break;\n                        case 'year':\n                            start_duration = new Date(today.getFullYear() - 1, today.getMonth(), today.getDate());\n                            break;\n                        case 'custom':\n                            var reportid = $('input[name=\"reportid\"]').val();\n                            $('#customrange'+instanceid).show();\n                            /**\n                            * Duration Filter\n                            */\n                            flatpickr('#customrange'+instanceid,{\n                                mode: 'range',\n                                onOpen: function(selectedDates, dateStr,instance){\n                                    instance.clear();\n                                },\n                                onClose: function(selectedDates, dateStr) {\n                                    $('#ls_fstartdate'+instanceid).val(selectedDates[0].getTime() / 1000);\n                                    $('#ls_fenddate'+instanceid).val((selectedDates[1].getTime() / 1000) + (60 * 60 * 24));\n                                    if (reportdashboard == false) {\n                                        require(['block_learnerscript/report'], function(report) {\n                                            report.CreateReportPage({ reportid: reportid, instanceid: instanceid,\n                                                reportdashboard: reportdashboard });\n                                        });\n                                    } else {\n                                        require(['block_learnerscript/report'], function(report) {\n                                            report.CreateReportPage({ reportid: report1id, instanceid: instanceid,\n                                                reportdashboard: reportdashboard });\n                                        });\n                                    }\n\n                                    $(\"#durtiontext\"+instanceid).text(dateStr);\n\n                            }\n                        });\n                            break;\n                        default:\n                            $('#ls_fstartdate'+instanceid).val(0);\n                            break;\n                    }\n                    if (start_duration != '') {\n                        $('#ls_fstartdate'+instanceid).val(start_duration.getTime() / 1000);\n                    }\n                } else {\n                    $('#ls_fenddate'+instanceid).val(\"\");\n                    $('#ls_fstartdate'+instanceid).val(\"\");\n                }\n                if (value !== 'custom') {\n                    if (reportdashboard != false) {\n                        require(['block_learnerscript/reportwidget'], function(reportwidget) {\n                               reportwidget.CreateDashboardwidget({\n                                reportid: report1id,\n                                reporttype: reportcontenttype,\n                                instanceid: instanceid\n                            });\n                        });\n                        str.get_string(value, 'block_reportdashboard').then(function(s) {\n                            $(\"#durtiontext\"+instanceid).text(s);\n                        });\n\n                    } else {\n                        var reportid = $('input[name=\"reportid\"]').val();\n                        require(['block_learnerscript/report'], function(report) {\n                            report.CreateReportPage({ reportid: reportid, instanceid: reportid, reportdashboard: reportdashboard });\n                        });\n                    }\n                    $('#customrange'+instanceid).val(\"\");\n                    $('#customrange'+instanceid).hide();\n                }\n                if (reportdashboard != true) {\n                    var reportid = $('input[name=\"reportid\"]').val();\n                    $('.plotgraphcontainer').removeClass('show').addClass('hide');\n                    $('#plotreportcontainer' + reportid).html('');\n                }\n\n            },\n            /**\n             * [FilterData description]\n             * @param {[type]} reportinstance [description]\n             */\n            FilterData: function(reportinstance) {\n                var reportfilter = $(\".filterform\" + reportinstance).serializeObject();\n                 $.urlParam = function(name) {\n                    var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);\n                    if (results === null || results == ' ') {\n                       return null;\n                    } else {\n                       return results[1] || 0;\n                    }\n                };\n                return reportfilter;\n            },\n            BasicparamsData: function(reportinstance) {\n                var basicparams = $(\".basicparamsform\" + reportinstance).serializeObject();\n                return basicparams;\n            },\n            CourseData: function(args) {\n                var FirstElementActive = false;\n                if (BasicparamActivity.length > 0 || FilterActivity.length > 0) {\n                    if (BasicparamActivity.length > 0) {\n                        FirstElementActive = true;\n                    }\n                    if (args.courseid > 0) {\n                        this.CourseActivities({courseid: args.courseid,\n                            firstelementactive: FirstElementActive, activityid: args.filterrequests.filter_activities});\n                    }\n                }\n                if (BasicparamUser.length > 0 || FilterUser.length > 0) {\n                    if (BasicparamUser.length > 0) {\n                        FirstElementActive = true;\n                    }\n                }\n            },\n           categoryCourses: function(args) {\n            var currentcategory = $('#id_filter_coursecategories').find(\":selected\").val();\n            if (currentcategory > 0) {\n                var promise = ajax.call({\n                    args: {\n                        action: 'categorycourses',\n                        basicparam: true,\n                        reporttype: args.reporttype,\n                        categoryid: args.categoryid\n                    },\n                    url: M.cfg.wwwroot + \"/blocks/learnerscript/ajax.php\",\n                });\n                promise.done(function(response) {\n                    var template = '';\n                    $.each(response, function(key, value) {\n                        template += '<option value = ' + key + '>' + value + '</option>';\n                    });\n                    $(\"#id_filter_courses\").html(template);\n                });\n            }\n        },\n        CourseActivities: function(args) {\n            var currentcourse = $('#id_filter_courses').find(\":selected\").val();\n            var requestedactivityid = args.activityid;\n            if (currentcourse > 0) {\n                var promise = ajax.call({\n                    args: {\n                        action: 'courseactivities',\n                        basicparam: true,\n                        courseid: args.courseid\n                    },\n                    url: M.cfg.wwwroot + \"/blocks/learnerscript/ajax.php\",\n                });\n                promise.done(function(response) {\n                    var template = '';\n                    $.each(response, function(key, value) {\n                        var selected = '';\n                            if (key == requestedactivityid) {\n                                selected = 'selected';\n                            }\n                            template += '<option value = ' + key + ' ' + selected + ' >' + value + '</option>';\n                    });\n                    $(\"#id_filter_activities\").html(template);\n                    var currentactivity = $('.basicparamsform #id_filter_activities').find(\":selected\").val();\n                    if (currentactivity == 0 || currentactivity === null) {\n                    $('.basicparamsform #id_filter_activities').val($('.basicparamsform #id_filter_activities option:eq(1)').val());\n                    }\n                    $(\"#id_filter_activities\").trigger('change');\n                });\n            }\n        },\n        UserCourses: function(args) {\n            var currentcourse = $('#id_filter_courses').find(\":selected\").val();\n            $('#id_filter_courses').find('option')\n                .remove()\n                .end()\n                .append('<option value=\"\">Select Course</option>');\n            if (args.userid >= 0) {\n                var promise = ajax.call({\n                    args: {\n                        action: 'usercourses',\n                        basicparam: true,\n                        userid: args.userid,\n                        reporttype: args.reporttype,\n                        reportid: args.reportid\n                    },\n                    url: M.cfg.wwwroot + \"/blocks/learnerscript/ajax.php\",\n                });\n                promise.done(function(response) {\n                    $.each(response, function(key, value) {\n                        if(key == 0){\n                            return true;\n                        }\n                        if ((key == Object.keys(response)[0] && args.firstelementactive == 1) ||\n                                (key == currentcourse && args.firstelementactive == 1)) {\n                            $('#id_filter_courses').append($(\"<option></option>\")\n                                .attr(\"value\", key)\n                                .attr('selected', 'selected')\n                                .text(value));\n                            if(typeof args.triggercourseactivities != 'undefined' && args.triggercourseactivities == true){\n                                smartfilter.CourseActivities({ courseid: key });\n                            }\n                        } else {\n                            $('#id_filter_courses').append($(\"<option></option>\")\n                                .attr(\"value\", key)\n                                .text(value));\n                        }\n                    });\n\n                });\n            }\n        },\n        EnrolledUsers: function(args) {\n            var nearelement = args.element || $('#id_filter_users');\n            var currentuser = nearelement.val();\n            nearelement.find('option')\n                .remove()\n                .end()\n                .append('<option value=\"\">Select User</option>');\n                var promise = ajax.call({\n                    args: {\n                        action: 'enrolledusers',\n                        basicparam: true,\n                        reportid: args.reportid,\n                        courseid: args.courseid,\n                        reporttype: args.reporttype,\n                        component: args.components\n                    },\n                    url: M.cfg.wwwroot + \"/blocks/learnerscript/ajax.php\",\n                });\n                promise.done(function(response) {\n                    // if (typeof nearelement == 'undefined') {\n                    //     nearelement.find('option')\n                    //         .not(':eq(0), :selected')\n                    //         .remove()\n                    //         .end();\n                    // }\n                    $.each(response, function(key, value) {\n                        if(key == 0){\n                            return true;\n                        }\n                        if (key != currentuser) {\n                            nearelement.append($(\"<option></option>\")\n                                .attr(\"value\", key)\n                                .text(value));\n                        } else {\n                            nearelement.append($(\"<option></option>\")\n                                .attr(\"value\", key)\n                                .attr('selected', 'selected')\n                                .text(value));\n                        }\n                    });\n                    if (!response.hasOwnProperty(currentuser)) {\n                        // nearelement.select2('destroy').select2({ theme: 'classic' });\n                        // nearelement.select2('val', 0);\n                    } else {\n                        nearelement.select2('val', \"\");\n                        var basicparamuserlen = nearelement.parents('.basicparamsform').length;\n                        if (basicparamuserlen > 0 && args.onloadtrigger) {\n                            $(\".basicparamsform #id_filter_apply\").trigger('click');\n                        }\n                    }\n                });\n\n        },\n        CohortUsers: function(args) {\n            var currentcohort = $('#id_filter_cohort').find(\":selected\").val();\n            if (currentcohort > 0) {\n                var promise = ajax.call({\n                    args: {\n                        action: 'cohortusers',\n                        basicparam: true,\n                        reporttype: args.reporttype,\n                        categoryid: args.cohortid\n                    },\n                    url: M.cfg.wwwroot + \"/blocks/learnerscript/ajax.php\",\n                });\n                promise.done(function(response) {\n                    var template = '';\n                    $.each(response, function(key, value) {\n                        template += '<option value = ' + key + '>' + value + '</option>';\n                    });\n                    $(\"#id_filter_users\").html(template);\n                });\n            }\n        }\n        };\n        return smartfilter;\n    });\n"],"names":["define","$","ajax","reportwidget","report","flatpickr","str","BasicparamUser","BasicparamActivity","FilterUser","FilterActivity","selectduration","reportcontenttype","smartfilter","SelectDuration","self","this","on","e","stopImmediatePropagation","instanceid","data","reportid","reporttype","duration","DurationFilter","html","length","trigger","ReportContenttypes","collapse","require","CreateDashboardwidget","container","reportdashboard","selectreport","value","report1id","today","Date","start_duration","val","getTime","getFullYear","getMonth","getDate","show","mode","onOpen","selectedDates","dateStr","instance","clear","onClose","CreateReportPage","text","get_string","then","s","hide","removeClass","addClass","FilterData","reportinstance","reportfilter","serializeObject","urlParam","name","results","RegExp","exec","window","location","href","BasicparamsData","CourseData","args","FirstElementActive","courseid","CourseActivities","firstelementactive","activityid","filterrequests","filter_activities","categoryCourses","find","call","action","basicparam","categoryid","url","M","cfg","wwwroot","done","response","template","each","key","currentcourse","requestedactivityid","selected","currentactivity","UserCourses","remove","end","append","userid","Object","keys","attr","triggercourseactivities","EnrolledUsers","nearelement","element","currentuser","component","components","hasOwnProperty","select2","parents","onloadtrigger","CohortUsers","cohortid"],"mappings":"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"}