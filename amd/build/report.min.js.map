{"version":3,"file":"report.min.js","sources":["../src/report.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n/**\n * Standard Report wrapper for Moodle. It calls the central JS file for Report plugin,\n * Also it includes JS libraries like Select2,Datatables and Highcharts\n * @module     block_learnerscript/report\n * @class      report\n * @package\n * @copyright  2017 Naveen kumar <naveen@eabyas.in>\n * @since      3.3\n */\ndefine(['jquery',\n    'block_learnerscript/config',\n    'block_learnerscript/select2',\n    'block_learnerscript/responsive.bootstrap',\n    'block_learnerscript/reportwidget',\n    'block_learnerscript/chart',\n    'block_learnerscript/smartfilter',\n    'block_learnerscript/schedule',\n    'block_learnerscript/helper',\n    'block_learnerscript/ajaxforms',\n    'block_learnerscript/ajax',\n    'block_learnerscript/radioslider',\n    'block_learnerscript/flatpickr',\n    'core/templates',\n    'jqueryui'\n], function($, cfgs, select2, DataTable, reportwidget, chart, smartfilter, schedule, helper, AjaxForms, ajax,\n    RadiosToSlider, flatpickr, templates) {\n    var BasicparamCourse = $('.basicparamsform #id_filter_courses');\n    var BasicparamUser = $('.basicparamsform #id_filter_users');\n    var BasicparamActivity = $('.basicparamsform #id_filter_activities');\n\n    var FilterCourse = $('.filterform #id_filter_courses');\n    var FilterUser = $('.filterform #id_filter_users');\n    var FilterActivity = $('.filterform #id_filter_activities');\n    var FilterModule = $('.filterform #id_filter_modules');\n    var FilterCohort = $('.filterform #id_filter_cohort');\n\n    var NumberOfBasicParams = 0;\n\n    var report = {\n        init: function(args) {\n            /**\n             * Initialization\n             */\n            $.ui.dialog.prototype._focusTabbable = $.noop;\n            $.fn.dataTable.ext.errMode = 'none';\n\n            $('.plotgraphcontainer').on('click', function() {\n                var reportid = $(this).data('reportid');\n                $('.plotgraphcontainer').removeClass('show').addClass('hide');\n                $('#plotreportcontainer' + reportid).html('');\n\n            });\n            /**\n             * Select2 initialization\n             */\n            $(\"select[data-select2='1']\").select2({\n                theme: \"classic\"\n            }).on(\"select2:selecting\", function(e) {\n                if ($(this).val() && $(this).data('maximumselectionlength') &&\n                    $(this).val().length >= $(this).data('maximumselectionlength')) {\n                    e.preventDefault();\n                    $(this).select2('close');\n                }\n            });\n\n            /*\n             * Report search\n             */\n            $(\"#reportsearch\").val(args.reportid).trigger('change.select2');\n            $(\"#reportsearch\").change(function() {\n                var reportid = $(this).find(\":selected\").val();\n                window.location = M.cfg.wwwroot + '/blocks/learnerscript/viewreport.php?id=' + reportid;\n            });\n            /**\n             * Duration buttons\n             */\n            RadiosToSlider.init($('#segmented-button'), {\n                size: 'medium',\n                animation: true,\n                reportdashboard: false\n            });\n            /**\n             * Duration Filter\n             */\n            flatpickr('#customrange', {\n                mode: 'range',\n                onOpen: function(selectedDates, dateStr, instance) {\n                    instance.clear();\n                },\n                onClose: function(selectedDates) {\n                    if (selectedDates.length !== 0) {\n                        $('#lsfstartdate').val(selectedDates[0].getTime() / 1000);\n                        $('#lsfenddate').val((selectedDates[1].getTime() / 1000) + (60 * 60 * 24));\n                        require(['block_learnerscript/report'], function(report) {\n                            report.CreateReportPage({reportid: args.reportid, instanceid: args.reportid, reportdashboard: false});\n                        });\n                    }\n                }\n            });\n            /*\n             * Get users for selected course\n             */\n            $('#id_filter_cohort').change(function() {\n                var cohortid = $(this).find(\":selected\").val();\n                if (cohortid > 0 && (FilterUser.length > 0 || BasicparamUser.length > 0)) {\n                    if (BasicparamUser.length > 0) {\n                        FirstElementActive = true;\n                    }\n                    smartfilter.CohortUsers({cohortid: cohortid, reporttype: args.reporttype, reportid: args.reportid,\n                                              firstelementactive: FirstElementActive});\n                }\n            });\n\n            /*\n             * Get Activities and Enrolled users for selected course\n             */\n            if (typeof BasicparamCourse != 'undefined' || typeof FilterCourse != 'undefined') {\n                $('#id_filter_courses').change(function() {\n                    args.courseid = $(this).find(\":selected\").val();\n                    smartfilter.CourseData(args);\n                });\n            }\n\n            /*\n             * Get Enrolled courses for selected user\n             */\n            $('#id_filter_users').change(function() {\n                var userid = $(this).find(\":selected\").val();\n                if (userid > 0 && (FilterCourse.length > 0 || BasicparamCourse.length > 0)) {\n                    if (BasicparamCourse.length > 0) {\n                        FirstElementActive = true;\n                    }\n                    // Smartfilter.UserCourses({ userid: userid, reporttype: args.reporttype, reportid: args.reportid,\n                    //                           firstelementactive: FirstElementActive, triggercourseactivities: true });\n                }\n            });\n\n            $('#id_filter_coursecategories').change(function() {\n                var categoryid = $(this).find(\":selected\").val();\n                smartfilter.categoryCourses({categoryid: categoryid, reporttype: args.reporttype});\n            });\n\n            schedule.SelectRoleUsers();\n\n            if (args.basicparams !== null) {\n                if (args.basicparams[0].name == 'courses') {\n                    $(\"#id_filter_courses\").trigger('change');\n                    NumberOfBasicParams++;\n                }\n            }\n            if (args.basicparams !== null) {\n                var FirstElementActive = false;\n                if (args.basicparams[0].name == 'users') {\n                    if (BasicparamCourse.length > 0) {\n                        FirstElementActive = true;\n                    }\n                    var userid = $(\"#id_filter_users\").find(\":selected\").val();\n                    if (userid > 0) {\n                        args.courseid = $('#id_filter_courses').find(\":selected\").val();\n                        smartfilter.CourseData(args);\n                    }\n                }\n            }\n\n            // For forms formatting..can't make unique everywhere, so little trick ;)\n            $('.filterform' + args.reportid + ' .fitemtitle').hide();\n            $('.filterform' + args.reportid + ' .felement').attr('style', 'margin:0');\n\n            $('.basicparamsform' + args.reportid + ' .fitemtitle').hide();\n            $('.basicparamsform' + args.reportid + ' .felement').attr('style', 'margin:0');\n\n            /*\n             * Filter form submission\n             */\n            $(\".filterform #id_filter_clear\").click(function() {\n                $(\".filterform\" + args.reportid).trigger(\"reset\");\n                if (FilterUser.length > 0) {\n                    if (FilterCourse.length > 0 || BasicparamCourse.length > 0) {\n                        if (BasicparamCourse.length > 0) {\n                            FirstElementActive = true;\n                        }\n                    }\n                }\n                if (FilterCourse.length > 0) {\n                    if (FilterUser.length > 0 || BasicparamUser.length > 0) {\n                    }\n\n                    if (FilterActivity.length > 0 || BasicparamActivity.length > 0) {\n                        smartfilter.CourseActivities({courseid: 0});\n                    }\n                }\n                if (FilterActivity.length > 0 || FilterModule.length > 0) {\n                    if ((FilterCourse.length > 0 || BasicparamCourse.length > 0) && BasicparamUser.length == 0) {\n                        if (BasicparamCourse.length > 0 && BasicparamUser.length == 0) {\n                            FirstElementActive = true;\n                        }\n                    }\n                    if (BasicparamCourse.length > 0 && BasicparamUser.length > 0) {\n                            $(\".basicparamsform #id_filter_apply\").trigger('click', [true]);\n                    }\n                }\n                if (FilterCohort.length > 0) {\n                    if (FilterUser.length > 0) {\n                        smartfilter.CohortUsers({cohortid: 0});\n                    }\n                }\n\n                if ($(\".basicparamsform #id_filter_apply\").length > 0) {\n                    $(document).ajaxComplete(function() {\n                    });\n                    $(\".basicparamsform #id_filter_apply\").trigger('click', [true]);\n                } else {\n                    args.reporttype = $('.ls-plotgraphs_listitem.ui-tabs-active').data('cid');\n                    report.CreateReportPage({reportid: args.reportid, reporttype: args.reporttype, instanceid: args.reportid});\n                }\n                $(\".filterform select[data-select2='1']\").select2(\"destroy\").select2({theme: \"classic\"});\n                $(\".filterform select[data-select2-ajax='1']\").val('0').trigger('change');\n                $('.filterform')[0].reset();\n                $(\".filterform #id_filter_clear\").attr('disabled', 'disabled');\n                $('.plotgraphcontainer').removeClass('show').addClass('hide');\n                $('#plotreportcontainer' + args.instanceid).html('');\n            });\n\n            /*\n             * Basic parameters form submission\n             */\n            $(\".basicparamsform #id_filter_apply,.filterform #id_filter_apply\").click(function(e, validate) {\n                var getreport = helper.validatebasicform(validate);\n                e.preventDefault();\n                e.stopImmediatePropagation();\n                $(\".filterform\" + args.reportid).show();\n                args.instanceid = args.reportid;\n                if (e.currentTarget.value != 'Get Report') {\n                    $(\".filterform #id_filter_clear\").removeAttr('disabled');\n                }\n                if ($.inArray(0, getreport) != -1) {\n                    $(\"#report_plottabs\").hide();\n                    $(\"#reportcontainer\" + args.reportid).html(\"<div class='alert alert-info'>No data available</div>\");\n                } else {\n                    $(\"#report_plottabs\").show();\n                    args.reporttype = $('.ls-plotgraphs_listitem.ui-tabs-active').data('cid');\n                    report.CreateReportPage({reportid: args.reportid, reporttype: args.reporttype,\n                        instanceid: args.instanceid, reportdashboard: false});\n                }\n                $('.plotgraphcontainer').removeClass('show').addClass('hide');\n                $('#plotreportcontainer' + args.instanceid).html('');\n            });\n            /*\n             * Generate Plotgraph\n             */\n            if (args.basicparams === null) {\n                report.CreateReportPage({reportid: args.reportid, reporttype: args.reporttype,\n                    instanceid: args.reportid, reportdashboard: false});\n            } else {\n                if (args.basicparams.length <= 4) {\n                    $(\".basicparamsform #id_filter_apply\").trigger('click', [true]);\n                } else {\n                        $(document).ajaxComplete(function(event, xhr, settings) {\n                            if (settings.url.indexOf(\"blocks/learnerscript/ajax.php\") > 0) {\n                                if (typeof settings.data != 'undefined') {\n                                    var ajaxaction = $.parseJSON(settings.data);\n                                    if (typeof ajaxaction.basicparam != 'undefined' && ajaxaction.basicparam == true) {\n                                        NumberOfBasicParams++;\n                                    }\n                                }\n                                if (args.basicparams.length == NumberOfBasicParams\n                                    && ajaxaction.action != 'plotforms' && ajaxaction.action != 'pluginlicence') {\n                                    $(\".basicparamsform #id_filter_apply\").trigger('click', [true]);\n                                }\n                            }\n                        });\n                }\n            }\n\n            /*\n             * Make sure will have vertical tabs for plotoptions for report\n             */\n            // $tabs = $('#report_plottabs').tabs().addClass(\"ui-tabs-vertical ui-helper-clearfix\");\n            // $(\"#report_plottabs li\").removeClass(\"ui-corner-top\").addClass(\"ui-corner-left\");\n\n            // helper.tabsdraggable($tabs);\n\n        },\n        CreateReportPage: function(args) {\n            var disabletable = 0;\n            if (args.reportdashboard == false) {\n                var disabletable = $('#disabletable').val();\n                if (disabletable) {\n                    args.reporttype = $($('.ls-plotgraphs_listitem')[0]).data('cid');\n                }\n            }\n            if (disabletable == 1 && args.reporttype.length > 0) {\n                chart.HighchartsAjax({\n                    'reportid': args.reportid,\n                    'action': 'generate_plotgraph',\n                    'cols': args.cols,\n                    'reporttype': args.reporttype\n                });\n            } else if (disabletable == 0) {\n                reportwidget.CreateDashboardwidget({\n                    reportid: args.reportid,\n                    reporttype: 'table',\n                    instanceid: args.instanceid,\n                    reportdashboard: args.reportdashboard\n                });\n            } else {\n\n            }\n        },\n        /**\n         * Generates graph widget with given Highcharts ajax response\n         * @param {object} response Ajax response\n         * @return Creates highchart widget with given response based on type of chart\n         */\n        generate_plotgraph: function(response) {\n            response.containerid = 'plotreportcontainer' + response.reportinstance;\n            switch (response.type) {\n                case 'pie':\n                    chart.piechart(response);\n                    break;\n                case 'spline':\n                case 'bar':\n                case 'column':\n                    chart.lbchart(response);\n                    break;\n                case 'solidgauge':\n                    chart.solidgauge(response);\n                    break;\n                case 'combination':\n                    chart.combinationchart(response);\n                    break;\n                case 'heatmap':\n                    chart.HeatMap(response);\n                    break;\n            }\n        },\n        /**\n         * Datatable serverside for all table type reports\n         * @param {object} args reportid\n         * @return Apply serverside datatable to report table\n         */\n        ReportDatatable: function(args) {\n            var params = {};\n            var reportinstance = args.instanceid ? args.instanceid : args.reportid;\n            params.filters = args.filters;\n            params.basicparams = args.basicparams || JSON.stringify(smartfilter.BasicparamsData(reportinstance));\n            params.reportid = args.reportid;\n            params.columns = args.columns;\n            //\n            // Pipelining function for DataTables. To be used to the `ajax` option of DataTables\n            //\n            $.fn.dataTable.pipeline = function(opts) {\n                // Configuration options\n                var conf = $.extend({\n                    url: '', // Script url\n                    data: null, // Function or object with parameters to send to the server\n                    method: 'POST' // Ajax HTTP method\n                }, opts);\n\n                return function(request, drawCallback, settings) {\n                    var ajax = true;\n                    var requestStart = request.start;\n                    var requestLength = request.length;\n                    var json;\n                    var cacheLastJson;\n                    var cacheLower;\n                    if (typeof args.data != 'undefined' && request.draw == 1) {\n                        json = args.data;\n                        json.draw = request.draw; // Update the echo for each response\n                        json.data.splice(0, requestStart);\n                        json.data.splice(requestLength, json.data.length);\n                        drawCallback(json);\n                    } else if (ajax) {\n                        // Need data from the server\n                        request.start = requestStart;\n                        request.length = requestLength;\n                        $.extend(request, conf.data);\n\n                        settings.jqXHR = $.ajax({\n                            \"type\": conf.method,\n                            \"url\": conf.url,\n                            \"data\": request,\n                            \"dataType\": \"json\",\n                            \"cache\": false,\n                            \"success\": function(json) {\n                                drawCallback(json);\n                            }\n                        });\n                    } else {\n                        json = $.extend(true, {}, cacheLastJson);\n                        json.draw = request.draw; // Update the echo for each response\n                        json.data.splice(0, requestStart - cacheLower);\n                        json.data.splice(requestLength, json.data.length);\n                        drawCallback(json);\n                    }\n                };\n            };\n            if (args.reportname == 'Users profile' || args.reportname == 'Course profile') {\n                var lengthoptions = [\n                    [50, 100, -1],\n                    [\"Show 50\", \"Show 100\", \"Show All\"]\n                ];\n            } else {\n                var lengthoptions = [\n                    [10, 25, 50, 100, -1],\n                    [\"Show 10\", \"Show 25\", \"Show 50\", \"Show 100\", \"Show All\"]\n                ];\n            }\n            $('#reporttable_' + reportinstance).DataTable({\n                'processing': true,\n                'serverSide': true,\n                'destroy': true,\n                'dom': '<\"co_report_header\"Bf <\"report_header_skew\"  <\"report_header_skew_content\" Bl<\"report_header_showhide\" >' +\n                '<\"report_calculation_showhide\" >> > > tr <\"co_report_footer\"ip>',\n                'ajax': $.fn.dataTable.pipeline({\n                    \"type\": \"POST\",\n                    \"url\": M.cfg.wwwroot + '/blocks/learnerscript/components/datatable/server_processing.php?sesskey=' +\n                    M.cfg.sesskey,\n                    \"data\": params\n                }),\n                'columnDefs': args.columnDefs,\n                \"fnDrawCallback\": function() {\n                    chart.SparkLineReport();\n                    helper.DrilldownReport();\n                },\n                \"oScroll\": {},\n                'responsive': true,\n                \"fnInitComplete\": function() {\n                    this.fnAdjustColumnSizing(true);\n                    // $(\".drilldown\" + reportinstance + \" .ui-dialog-title\").html(args.reportname);\n\n                    if (args.reportname == 'Users profile' || args.reportname == 'Course profile'\n                        || args.reportname == 'Statistic') {\n                        $(\"#reporttable_\" + reportinstance + \"_wrapper .co_report_header\").remove();\n                        $(\"#reporttable_\" + reportinstance + \"_wrapper .co_report_footer\").remove();\n                    }\n\n                    $('.download_menu' + reportinstance + ' li a').each(function() {\n                        var link = $(this).attr('href');\n                        if (typeof args.basicparams != 'undefined') {\n                            var basicparamsdata = JSON.parse(args.basicparams);\n                            $.each(basicparamsdata, function(key, value) {\n                                if (key.indexOf('filter_') == 0) {\n                                    link += '&' + key + '=' + value;\n                                }\n                            });\n                        }\n                        if (typeof (args.filters) != 'undefined') {\n                            var filters = JSON.parse(args.filters);\n                            $.each(filters, function(key, value) {\n                                if (key.indexOf('filter_') == 0) {\n                                    link += '&' + key + '=' + value;\n                                }\n                                if (key.indexOf('lsf') == 0) {\n                                    link += '&' + key + '=' + value;\n                                }\n                            });\n                        }\n                        $(this).attr('href', link);\n                    });\n                },\n                \"fnRowCallback\": function(nRow) {\n                    $(nRow).children().each(function(index, td) {\n                        $(td).css(\"word-break\", args.columnDefs[index].wrap);\n                        $(td).css(\"width\", args.columnDefs[index].width);\n                    });\n                    return nRow;\n                },\n                \"autoWidth\": false,\n                'aaSorting': [],\n                'language': {\n                    'paginate': {\n                        'previous': '<',\n                        'next': '>'\n                    },\n                    'sProcessing': \"<img src='\" + M.util.image_url('loading', 'block_learnerscript') + \"'>\",\n                    'search': \"_INPUT_\",\n                    'searchPlaceholder': \"Search\",\n                    'lengthMenu': \"_MENU_\",\n                    \"emptyTable\": \"<div class='alert alert-info'>No data available</div>\"\n                },\n                \"lengthMenu\": lengthoptions\n            });\n            $(\".drilldown\" + reportinstance + \" .ui-dialog-title\").html(args.reportname);\n            $(\"#page-blocks-learnerscript-viewreport #reporttable_\" + args.reportid + \"_wrapper div.report_header_showhide\").\n            html($('#export_options' + args.reportid).html());\n            if ($('.reportcalculation' + args.reportid).length > 0) {\n                $(\"#page-blocks-learnerscript-viewreport #reporttable_\" +\n                args.reportid + \"_wrapper div.report_calculation_showhide\").\n                html('<img src=\"' + M.util.image_url('calculationicon', 'block_learnerscript') +\n                '\" onclick=\"(function(e){ require(\\'block_learnerscript/helper\\').reportCalculations({reportid:' +\n                args.reportid + '}) })(event)\" title =\"Calculations\" />');\n            }\n        },\n        AddExpressions: function(e, value) {\n            $(e.target).on('select2:unselecting', function(e) {\n                $('#fitem_id_' + e.params.args.data.id + '').remove();\n            });\n            var columns = $(e.target).val();\n            $.each(columns, function(index) {\n                if ($('#fitem_id_' + columns[index]).length > 0) {\n                    return;\n                }\n                var column = [];\n                 column.name = columns[index];\n                 column.conditionsymbols = [];\n                 var conditions = [\"=\", \">\", \"<\", \">=\", \"<=\", \"<>\"];\n                 $.each(conditions, function(index, value) {\n                    column.conditionsymbols.push({\n                        'value': value\n                    });\n                 });\n                var requestdata = {column: column};\n                templates.render('block_learnerscript/plotconditions', requestdata).then(function(html) {\n                    if (value == 'yaxisbarvalue') {\n                        $('#yaxis_bar1').append(html);\n                    } else {\n                        $('#yaxis1').append(html);\n                    }\n\n                }).fail(function() {});\n            });\n        },\n        block_statistics_help: function(reportid) {\n                var promise = ajax.call({\n                    args: {\n                        action: 'learnerscriptdata',\n                        reportid: reportid\n                    },\n                    url: M.cfg.wwwroot + \"/blocks/learnerscript/ajax.php\",\n                });\n                promise.done(function(response) {\n                   require(['core/modal_factory'], function(ModalFactory) {\n                        ModalFactory.create({\n                            title: response.name,\n                            body: response.summary,\n                            footer: '',\n                        }).done(function(modal) {\n                            var dialogue = modal;\n                            var ModalEvents = require('core/modal_events');\n                            dialogue.getRoot().on(ModalEvents.hidden, function() {\n                            });\n\n                            dialogue.show();\n                        });\n                    });\n                });\n        },\n        CourseprofileReportsdata: function(args) {\n            if (args.reporttype == 'table') {\n                reportwidget.CreateDashboardwidget({\n                    reportid: args.reportid,\n                    reporttype: 'table',\n                    instanceid: args.instanceid,\n                    reportdashboard: args.reportdashboard,\n                    filters: args.filters\n                });\n            } else {\n                chart.HighchartsAjax({\n                    'reportid': args.reportid,\n                    'action': 'generate_plotgraph',\n                    'cols': args.cols,\n                    'reporttype': args.reporttype,\n                    'filters': args.filters\n                });\n            }\n        }\n\n    };\n    return report;\n});\n"],"names":["define","$","cfgs","select2","DataTable","reportwidget","chart","smartfilter","schedule","helper","AjaxForms","ajax","RadiosToSlider","flatpickr","templates","BasicparamCourse","BasicparamUser","BasicparamActivity","FilterCourse","FilterUser","FilterActivity","FilterModule","FilterCohort","NumberOfBasicParams","report","init","args","ui","dialog","prototype","_focusTabbable","noop","fn","dataTable","ext","errMode","on","reportid","this","data","removeClass","addClass","html","theme","e","val","length","preventDefault","trigger","change","find","window","location","M","cfg","wwwroot","size","animation","reportdashboard","mode","onOpen","selectedDates","dateStr","instance","clear","onClose","getTime","require","CreateReportPage","instanceid","cohortid","FirstElementActive","CohortUsers","reporttype","firstelementactive","courseid","CourseData","categoryid","categoryCourses","SelectRoleUsers","basicparams","name","hide","attr","click","CourseActivities","document","ajaxComplete","reset","validate","getreport","validatebasicform","stopImmediatePropagation","show","currentTarget","value","removeAttr","inArray","event","xhr","settings","url","indexOf","ajaxaction","parseJSON","basicparam","action","disabletable","HighchartsAjax","cols","CreateDashboardwidget","generate_plotgraph","response","containerid","reportinstance","type","piechart","lbchart","solidgauge","combinationchart","HeatMap","ReportDatatable","params","filters","JSON","stringify","BasicparamsData","columns","pipeline","opts","conf","extend","method","request","drawCallback","json","requestStart","start","requestLength","draw","splice","jqXHR","dataType","cache","success","reportname","lengthoptions","processing","serverSide","destroy","dom","sesskey","columnDefs","fnDrawCallback","SparkLineReport","DrilldownReport","oScroll","responsive","fnInitComplete","fnAdjustColumnSizing","remove","each","link","basicparamsdata","parse","key","fnRowCallback","nRow","children","index","td","css","wrap","width","autoWidth","aaSorting","language","paginate","previous","next","sProcessing","util","image_url","search","searchPlaceholder","lengthMenu","emptyTable","AddExpressions","target","id","column","conditionsymbols","push","requestdata","render","then","append","fail","block_statistics_help","call","done","ModalFactory","create","title","body","summary","footer","modal","dialogue","ModalEvents","getRoot","hidden","CourseprofileReportsdata"],"mappings":"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"}