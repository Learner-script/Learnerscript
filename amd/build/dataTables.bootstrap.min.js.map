{"version":3,"file":"dataTables.bootstrap.min.js","sources":["../src/dataTables.bootstrap.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * TODO describe module dataTables.bootstrap\n *\n * @module     block_learnerscript/dataTables.bootstrap\n * @copyright  ©2011-2015 SpryMedia Ltd\n * @license    datatables.net/license\n */\n/* ! DataTables Bootstrap 3 integration\n * ©2011-2015 SpryMedia Ltd - datatables.net/license\n */\n\n(function(factory) {\nif (typeof define === 'function' && define.amd) {\n// AMD\ndefine(['jquery', 'block_learnerscript/datatables'], function($) {\n      return factory($, window, document);\n    });\n  } else if (typeof exports === 'object') {\n    // CommonJS\n    var jq = require('jquery');\n    var cjsRequires = function(root, $) {\n      if (!$.fn.dataTable) {\n        require('block_learnerscript/datatables')(root, $);\n      }\n    };\n\n    if (typeof window === 'undefined') {\n        var module;\n      module.exports = function(root, $) {\n        if (!root) {\n          // CommonJS environments without a window global must pass a\n          // root. This will give an error otherwise\n          root = window;\n        }\n\n        if (!$) {\n          $ = jq(root);\n        }\n\n        cjsRequires(root, $);\n        return factory($, root, root.document);\n      };\n    } else {\n      cjsRequires(window, jq);\n      module.exports = factory(jq, window, window.document);\n    }\n  } else {\n    // Browser\n    var jQuery;\n    factory(jQuery, window, document);\n  }\n}(function($, window, document, undefined) {\n'use strict';\nvar DataTable = $.fn.dataTable;\n\n\n/**\n * DataTables integration for Bootstrap 3. This requires Bootstrap 3 and\n * DataTables 1.10 or newer.\n *\n * This file sets the defaults and adds options to DataTables to style its\n * controls using Bootstrap. See https://datatables.net/manual/styling/bootstrap\n * for further information.\n */\n\n/* Set the defaults for DataTables initialisation */\n$.extend(true, DataTable.defaults, {\n  dom:\n    \"<'row'<'col-sm-6'l><'col-sm-6'f>>\" +\n    \"<'row'<'col-sm-12'tr>>\" +\n    \"<'row'<'col-sm-5'i><'col-sm-7'p>>\",\n  renderer: 'bootstrap'\n});\n\n\n/* Default class modification */\n$.extend(DataTable.ext.classes, {\n  sWrapper:      \"dataTables_wrapper form-inline dt-bootstrap\",\n  sFilterInput:  \"form-control input-sm\",\n  sLengthSelect: \"form-control input-sm\",\n  sProcessing:   \"dataTables_processing panel panel-default\"\n});\n\n\n/* Bootstrap paging button renderer */\nDataTable.ext.renderer.pageButton.bootstrap = function(settings, host, idx, buttons, page, pages) {\n  var api = new DataTable.Api(settings);\n  var classes = settings.oClasses;\n  var lang = settings.oLanguage.oPaginate;\n  var aria = settings.oLanguage.oAria.paginate || {};\n  var btnDisplay, btnClass;\n\n  var attach = function(container, buttons) {\n    var i, ien, node, button;\n    var clickHandler = function(e) {\n      e.preventDefault();\n      if (!$(e.currentTarget).hasClass('disabled') && api.page() != e.data.action) {\n        api.page(e.data.action).draw('page');\n      }\n    };\n\n    for (i = 0, ien = buttons.length; i < ien; i++) {\n      button = buttons[i];\n\n      if (Array.isArray(button)) {\n        attach(container, button);\n      } else {\n        btnDisplay = '';\n        btnClass = '';\n\n        switch (button) {\n          case 'ellipsis':\n            btnDisplay = '&#x2026;';\n            btnClass = 'disabled';\n            break;\n\n          case 'first':\n            btnDisplay = lang.sFirst;\n            btnClass = button + (page > 0 ?\n              '' : ' disabled');\n            break;\n\n          case 'previous':\n            btnDisplay = lang.sPrevious;\n            btnClass = button + (page > 0 ?\n              '' : ' disabled');\n            break;\n\n          case 'next':\n            btnDisplay = lang.sNext;\n            btnClass = button + (page < pages - 1 ?\n              '' : ' disabled');\n            break;\n\n          case 'last':\n            btnDisplay = lang.sLast;\n            btnClass = button + (page < pages - 1 ?\n              '' : ' disabled');\n            break;\n\n          default:\n            btnDisplay = button + 1;\n            btnClass = page === button ?\n              'active' : '';\n            break;\n        }\n\n        if (btnDisplay) {\n          var disabled = btnClass.indexOf('disabled') !== -1;\n\n          node = $('<li>', {\n              'class': classes.sPageButton + ' ' + btnClass,\n              'id': idx === 0 && typeof button === 'string' ?\n                settings.sTableId + '_' + button :\n                null\n            })\n            .append($('<a>', {\n                'href': disabled ? null : '#',\n                'aria-controls': settings.sTableId,\n                'aria-disabled': disabled ? 'true' : null,\n                'aria-label': aria[button],\n                'role': 'link',\n                'aria-current': btnClass === 'active' ? 'page' : null,\n                'data-dt-idx': button,\n                'tabindex': disabled ? -1 : settings.iTabIndex\n              })\n              .html(btnDisplay)\n            )\n            .appendTo(container);\n\n          settings.oApi._fnBindAction(\n            node, {action: button}, clickHandler\n          );\n        }\n      }\n    }\n  };\n\n  // IE9 throws an 'unknown error' if document.activeElement is used\n  // inside an iframe or frame.\n  var activeEl;\n\n  try {\n    // Because this approach is destroying and recreating the paging\n    // elements, focus is lost on the select button which is bad for\n    // accessibility. So we want to restore focus once the draw has\n    // completed\n    activeEl = $(host).find(document.activeElement).data('dt-idx');\n  } catch (e) {}\n\n  attach(\n    $(host).empty().html('<ul class=\"pagination\"/>').children('ul'),\n    buttons\n  );\n\n  if (activeEl !== undefined) {\n    $(host).find('[data-dt-idx=' + activeEl + ']').trigger('focus');\n  }\n};\n\n\nreturn DataTable;\n}));"],"names":["factory","define","amd","$","window","document","exports","jq","require","cjsRequires","root","fn","dataTable","module","jQuery","undefined","DataTable","extend","defaults","dom","renderer","ext","classes","sWrapper","sFilterInput","sLengthSelect","sProcessing","pageButton","bootstrap","settings","host","idx","buttons","page","pages","btnDisplay","btnClass","activeEl","api","Api","oClasses","lang","oLanguage","oPaginate","aria","oAria","paginate","attach","container","i","ien","node","button","clickHandler","e","preventDefault","currentTarget","hasClass","data","action","draw","length","Array","isArray","sFirst","sPrevious","sNext","sLast","disabled","indexOf","class","sPageButton","id","sTableId","append","href","role","tabindex","iTabIndex","html","appendTo","oApi","_fnBindAction","find","activeElement","empty","children","trigger"],"mappings":"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"}